# Galois域(一)

在零知识证明系统中，有一个核心的问题，就是双线性配对。双线性配对的核心就和Galois域相关。要解释清楚相关的概念，会涉及很多的
数学概念，如果要严格的解释，需要一定的数学基础才行，我们会分成三个部分，介绍相关内容，而且偏密码学。

## 域的定义

域的定义和我们小学学的数学有关系，本质就是数字四则运算的推广。域的定义有三部分组成:

给定的集合A，满足:

1. (A, +) 为交换群，且其单位元为 0
2. (A/{0}, x) 为交换群，且其单位元为1
3. 对所有的 对所有 a, b, c ∈ A, 有: a x (b + c) = a x b + a x c

用一句话来说，一个集合上，定义了加法群 和 乘法群，并且，这两个运算之间符合分配律。

## 模p剩余类域

这个域是密码学中非常重要的研究对象，这一节我们重点研究。其中p是素数。

因为这个域是两个群构成的，我们先研究加法群。 这个群的阶是素数的，也就是说，群中任意取一个元素a, 要么 a^1 = e, 要么a^p = e, 也就是说，除了单位元，其他的都是群的生成元。所以这个是一个p阶循环群。而且任意取一个数字就是生成元。

比如p = 7， 我们任意取一个元素6

```math
   (6)mod7=6

   (6+6)mod7=5

   (6+6+6)mod7=4

   (6+6+6+6)mod7=3

   (6+6+6+6+6)mod7=2

   (6+6+6+6+6+6)mod7=1

   (6+6+6+6+6+6+6)mod7=0
```

再取一个数字，比如2

```
    (2)mod7=2

    (2+2)mod7=4

    (2+2+2)mod7=6

    (2+2+2+2)mod7=1

    (2+2+2+2+2)mod7=3

    (2+2+2+2+2+2)mod7=5

    (2+2+2+2+2+2+2)mod7=0
```

我们再来研究乘法群，域中的乘法群有点复杂，因为取掉了0，群的阶变成了 p-1. p-1 是一个偶数，所以很有可能会存在阶为2的子群。比如，还是p = 7 的情况.

还是取元素6

```
6^1 mod 7 =6

6^2 mod 7 =1

6^3 mod 7 =6

6^4 mod 7 =1

6^5 mod 7 =6

6^6 mod 7 =1

6^7 mod 7 =6
```

再取一个元素 2

```
2^1 mod 7 =2

2^2 mod 7 =4

2^3 mod 7 =1

2^4 mod 7 =2

2^5 mod 7 =4

2^6 mod 7 =1

2^7 mod 7 =2
```

我们发现，2 和 6 都不是群的生成元，那么p-1的模n剩余类一定是一个循环群吗？一定存在p-1阶生成元吗？这个问题的答案是肯定的。要证明这个结论，需要一些初等数论的知识。

## 指数与原根

设 $m\geq1$ , $（a, m）=1$. 使 $a^d\equiv1 (mod\ m)$, 成立的最小的正整数d，就是指数。如果   $\delta_m(a)=\varphi(m)$, 那么a 就是 模m的原根。

这里 $\varphi(m)$ 是欧拉函数。如果 $Z_m^*$ 是一个群，那么 $\varphi(m)$ 实际上就是群的阶。原根就是群的生成元。

## 拉格朗日定理

任意的一个 $\delta_m(a)｜\varphi(m)$ ，也就是元素的阶( $\delta_m(a)$ )可以整除群的阶。

## 引理

对任意的a,b一定存在c，使得 $\delta_m(c) = [\delta_m(a),\delta_m(b)]$

由上面的拉格朗日定理，$\delta_m(a)｜\varphi(m)$, 所以，这个定理说的是，一定存在一个元素的阶，等于任意两个元素的阶的最小公倍数，很容易推出，也存在一个元素的阶，等于任意个元素阶的最小公倍数。这个定理的证明不难，结论也很直观，而这个定理也决定了 $Z_p^*$ 一定是一个群，其中p是一个素数。

## 定理

设p是一个素数，那么模p必有原根。

我们构造这样的一个指数:

$\delta_p(g)=[\delta_p(1),\delta_p(2),\cdots,\delta_p(i),\cdots,\delta_p(p-1)]$ 由上面定理，我们知道这样的g一定存在。下面我们证明这个就是原根。

因为p是一个素数，所以有: $\varphi(p) = p-1$
所以一定有 $\delta_p(g)|p-1$, 所以 $\delta_p(g)\leq p-1$.

$\delta_p(g)$ 是所有元素的最大公倍数，所以 $\delta_p(i)|\delta_p(g)$, 因而 $1,2,\cdots,i,\cdots,p-1$ 都是同余方程

$$
x^{\delta_p(g)}\equiv1(mod\ p)
$$

的解，对同余方程不了解的，可以把解带进去就很容易验证等式是成立的。而同余方程的解的个数 $n\leq min(\delta_p(g), p)$, 已知 $\delta_p(g)\leq p-1$, $min(\delta_p(g), p) = \delta_p(g)$, n至少有p-1个解，所以有 $\delta_p(g)\geq p-1$, 所以 $\delta_p(g) = p-1$，所以 $\delta_p(g)$ 就是原根。通过g可以生成所有的元素。$Z_p^*$ 还是一个循环群。

## 总结

我们首先验证了， $Z_p^+$ 是一个加法群，同时还验证了 $Z_p^*$ 是一个乘法群，可以验证，加法和乘法还符合分配律:

$$(a*(b+c)) = (a*b + a*c)$$

注意，这里的 * 和 + 都是带同余的运算。
